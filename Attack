local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("Dung Script - Fast Attack", "BloodTheme")

-- Thiết lập biến toàn cục để lưu trữ cài đặt (theo logic của bạn)
_G.Settings = {
    Setting = {
        ["Fast Attack"] = false,
        ["Fast Attack Mode"] = "Normal",
        ["Fast Attack Delay"] = 0.22,
        ["Attack Aura"] = false
    },
    Main = {
        ["Auto Farm Fruit Mastery"] = false,
        ["Auto Farm Gun Mastery"] = false
    }
}

-- Hàm lưu cài đặt (Bạn có thể tùy biến để lưu vào file .txt)
getgenv().SaveSetting = function()
    print("Settings Saved!")
end

-- Hàm Attack giả lập (Bạn cần thay thế bằng hàm Attack thực tế của game)
function Attack()
    -- Logic tấn công của game nằm ở đây
    print("Đang tấn công với delay: " .. _G.Settings.Setting["Fast Attack Delay"])
end

-- Tạo Tab Cài đặt
local MainTab = Window:NewTab("Main")
local SettingsSection = MainTab:NewSection("Combat Settings")

-- 1. Nút bật/tắt Fast Attack
SettingsSection:NewToggle("Fast Attack", "Bật/Tắt tấn công nhanh", function(value)
    _G.Settings.Setting["Fast Attack"] = value
    SaveSetting()
end)

-- 2. Danh sách chọn chế độ tốc độ
local AttackList = {"Slow", "Normal", "Fast", "Super Fast"}
SettingsSection:NewDropdown("Fast Attack Mode", "Chọn tốc độ đánh", AttackList, function(value)
    _G.Settings.Setting["Fast Attack Mode"] = value
    SaveSetting()
end)

-- 3. Nút bật/tắt Attack Aura
SettingsSection:NewToggle("Attack Aura", "Tự động đánh quái xung quanh", function(value)
    _G.Settings.Setting["Attack Aura"] = value
    SaveSetting()
end)

-- Logic xử lý Delay (Đoạn mã của bạn)
spawn(function()
    while wait() do
        if _G.Settings.Setting["Fast Attack Mode"] == "Slow" then
            _G.Settings.Setting["Fast Attack Delay"] = 0.32
        elseif _G.Settings.Setting["Fast Attack Mode"] == "Normal" then
            _G.Settings.Setting["Fast Attack Delay"] = 0.22
        elseif _G.Settings.Setting["Fast Attack Mode"] == "Fast" then
            _G.Settings.Setting["Fast Attack Delay"] = 0.17
        elseif _G.Settings.Setting["Fast Attack Mode"] == "Super Fast" then
            _G.Settings.Setting["Fast Attack Delay"] = 0.12
        end
    end
end)

-- Logic thực hiện Attack Aura (Đoạn mã của bạn)
spawn(function()
    game:GetService("RunService").RenderStepped:Connect(function()
        if _G.Settings.Setting["Attack Aura"] and (not _G.Settings.Main["Auto Farm Fruit Mastery"]) and (not _G.Settings.Main["Auto Farm Gun Mastery"]) then
            pcall(function()
                Attack()
            end)
        end
    end)
end)
