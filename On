local ScreenGui = Instance.new("ScreenGui")
local ToggleButton = Instance.new("TextButton")
local UICorner = Instance.new("UICorner")

-- Cấu hình Giao diện
ScreenGui.Name = "AuraControlGui"
ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

ToggleButton.Name = "ToggleButton"
ToggleButton.Parent = ScreenGui
ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50) -- Màu đỏ
ToggleButton.Position = UDim2.new(0.5, -50, 0.15, 0)
ToggleButton.Size = UDim2.new(0, 120, 0, 45)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.Text = "Aura: OFF"
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
ToggleButton.TextSize = 16.000

UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = ToggleButton

-- Biến lưu trữ luồng chạy script
local scriptThread = nil 

ToggleButton.MouseButton1Click:Connect(function()
    if scriptThread == nil then
        -- TRẠNG THÁI: BẬT
        ToggleButton.Text = "Aura: ON"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(50, 255, 50) -- Màu xanh
        
        -- Tạo một luồng riêng để chạy script
        scriptThread = task.spawn(function()
            local success, err = pcall(function()
                loadstring(game:HttpGet("https://raw.githubusercontent.com/Huylovemy/Attack-/refs/heads/main/Aura"))()
            end)
            if not success then
                warn("Lỗi script: ", err)
            end
        end)
    else
        -- TRẠNG THÁI: TẮT
        ToggleButton.Text = "Aura: OFF"
        ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
        
        -- Hủy luồng đang chạy script ngay lập tức
        task.cancel(scriptThread)
        scriptThread = nil
        
        -- (Tùy chọn) Xóa các hiệu ứng hoặc vật phẩm mà script tạo ra nếu có thể
        print("Đã ép dừng Aura")
    end
end)
